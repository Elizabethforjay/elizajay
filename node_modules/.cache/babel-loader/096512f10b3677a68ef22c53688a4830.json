{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useReducer } from 'react';\nimport getListReducers from './getListReducers';\nimport { GET_LIST, LOADING_STARTS, LOADING_STOPS } from './feedbackTypes';\n\nconst useGetList = () => {\n  _s();\n\n  const [{\n    items,\n    isLoading\n  }, dispatch] = useReducer(getListReducers, {\n    items: [],\n    isLoading: false\n  });\n\n  const getList = async data => {\n    dispatch({\n      type: LOADING_STARTS\n    });\n\n    try {\n      const response = await axios.post(`${'https://share-point-tt.herokuapp.com/api/loginDetails/all'}`, data);\n\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n            items: response.data.data\n          }\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n\n      if (e.response) {\n        dispatch({\n          type: LOADING_STOPS\n        });\n      }\n    }\n  };\n\n  const deleteList = async id => {\n    dispatch({\n      type: LOADING_STARTS\n    });\n\n    try {\n      const response = await axios.delete(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}/${id}`);\n\n      if (response.data) {\n        toast.success('Delete Successful');\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      dispatch({\n        type: LOADING_STOPS\n      });\n    }\n  };\n\n  return {\n    getList,\n    deleteList,\n    items,\n    isLoading\n  };\n};\n\n_s(useGetList, \"WodazfdF7D1PgntFBcEf9t48A34=\");\n\nexport default useGetList;","map":{"version":3,"sources":["C:/Users/rdp/Desktop/apireyes/src/api/useGetList.js"],"names":["axios","toast","useReducer","getListReducers","GET_LIST","LOADING_STARTS","LOADING_STOPS","useGetList","items","isLoading","dispatch","getList","data","type","response","post","console","log","info","payload","e","deleteList","id","delete","success","setTimeout","window","location","reload"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SAASC,QAAT,EAAmBC,cAAnB,EAAmCC,aAAnC,QAAwD,iBAAxD;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACvB,QAAM,CAAC;AAAGC,IAAAA,KAAH;AAAUC,IAAAA;AAAV,GAAD,EAAwBC,QAAxB,IAAoCR,UAAU,CAACC,eAAD,EAAkB;AACpEK,IAAAA,KAAK,EAAE,EAD6D;AAEpEC,IAAAA,SAAS,EAAE;AAFyD,GAAlB,CAApD;;AAKA,QAAME,OAAO,GAAG,MAAOC,IAAP,IAAgB;AAC9BF,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAER;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMS,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAY,GAAE,2DAA4D,EAA1E,EAA4EH,IAA5E,CAAvB;;AACA,UAAIE,QAAQ,CAACF,IAAb,EAAmB;AACjBI,QAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACF,IAAT,CAAcA,IAA1B;AACAX,QAAAA,KAAK,CAACiB,IAAN,CAAW,SAAX;AACAR,QAAAA,QAAQ,CAAC;AACPG,UAAAA,IAAI,EAAET,QADC;AAEPe,UAAAA,OAAO,EAAE;AACPX,YAAAA,KAAK,EAAEM,QAAQ,CAACF,IAAT,CAAcA;AADd;AAFF,SAAD,CAAR;AAOD;AACF,KAbD,CAaE,OAAOQ,CAAP,EAAU;AACVnB,MAAAA,KAAK,CAACiB,IAAN,CAAW,uBAAX;;AACA,UAAIE,CAAC,CAACN,QAAN,EAAgB;AACdJ,QAAAA,QAAQ,CAAC;AAAEG,UAAAA,IAAI,EAAEP;AAAR,SAAD,CAAR;AACD;AACF;AACF,GArBD;;AAuBA,QAAMe,UAAU,GAAG,MAAOC,EAAP,IAAc;AAC/BZ,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAER;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMS,QAAQ,GAAG,MAAMd,KAAK,CAACuB,MAAN,CAAc,GAAE,uDAAwD,IAAGD,EAAG,EAA9E,CAAvB;;AACA,UAAIR,QAAQ,CAACF,IAAb,EAAmB;AACjBX,QAAAA,KAAK,CAACuB,OAAN,CAAc,mBAAd;AACAC,QAAAA,UAAU,CAAC,MAAM;AACfC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD;AACF,KARD,CAQE,OAAOR,CAAP,EAAU;AACVnB,MAAAA,KAAK,CAACiB,IAAN,CAAW,uBAAX;AACAR,MAAAA,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEP;AAAR,OAAD,CAAR;AACD;AACF,GAdD;;AAgBA,SAAO;AAAEK,IAAAA,OAAF;AAAWU,IAAAA,UAAX;AAAwBb,IAAAA,KAAxB;AAA+BC,IAAAA;AAA/B,GAAP;AACD,CA9CD;;GAAMF,U;;AAgDN,eAAeA,UAAf","sourcesContent":["import axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useReducer } from 'react';\r\nimport getListReducers from './getListReducers';\r\nimport { GET_LIST, LOADING_STARTS, LOADING_STOPS } from './feedbackTypes';\r\n\r\nconst useGetList = () => {\r\n  const [{  items, isLoading }, dispatch] = useReducer(getListReducers, {\r\n    items: [],\r\n    isLoading: false,\r\n  });\r\n\r\n  const getList = async (data) => {\r\n    dispatch({ type: LOADING_STARTS });\r\n    try {\r\n      const response = await axios.post(`${'https://share-point-tt.herokuapp.com/api/loginDetails/all'}`,data);\r\n      if (response.data) {\r\n        console.log(response.data.data);\r\n        toast.info('Success');\r\n        dispatch({\r\n          type: GET_LIST,\r\n          payload: {\r\n            items: response.data.data,\r\n    \r\n          },\r\n        });\r\n      }\r\n    } catch (e) {\r\n      toast.info('Something went wrong!');\r\n      if (e.response) {\r\n        dispatch({ type: LOADING_STOPS });\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteList = async (id) => {\r\n    dispatch({ type: LOADING_STARTS });\r\n    try {\r\n      const response = await axios.delete(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}/${id}`);\r\n      if (response.data) {\r\n        toast.success('Delete Successful');\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1000);\r\n      }\r\n    } catch (e) {\r\n      toast.info('Something went wrong!');\r\n      dispatch({ type: LOADING_STOPS });\r\n    }\r\n  };\r\n\r\n  return { getList, deleteList,  items, isLoading };\r\n};\r\n\r\nexport default useGetList;\r\n"]},"metadata":{},"sourceType":"module"}