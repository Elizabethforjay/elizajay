{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useReducer } from 'react';\nimport getListReducers from './getListReducers';\nimport { GET_LIST, LOADING_STARTS, LOADING_STOPS } from './feedbackTypes';\n\nconst useGetList = () => {\n  _s();\n\n  const [{\n    data,\n    isLoading\n  }, dispatch] = useReducer(getListReducers, {\n    data: [],\n    isLoading: false\n  });\n\n  const getIP = async () => {\n    dispatch({\n      type: LOADING_STARTS\n    });\n\n    try {\n      const response = await axios.getJSON('http://www.geoplugin.net/json.gp', function (data) {});\n\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n            data: response.data.data\n          }\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n\n      if (e.response) {\n        dispatch({\n          type: LOADING_STOPS\n        });\n      }\n    }\n  };\n\n  const getList = async () => {\n    dispatch({\n      type: LOADING_STARTS\n    });\n\n    try {\n      const response = await axios.get(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`);\n\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n            data: response.data.data\n          }\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n\n      if (e.response) {\n        dispatch({\n          type: LOADING_STOPS\n        });\n      }\n    }\n  };\n\n  const deleteList = async id => {\n    dispatch({\n      type: LOADING_STARTS\n    });\n\n    try {\n      const response = await axios.delete(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}/${id}`);\n\n      if (response.data) {\n        toast.success('Delete Successful');\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      dispatch({\n        type: LOADING_STOPS\n      });\n    }\n  };\n\n  return {\n    getList,\n    deleteList,\n    data,\n    isLoading\n  };\n};\n\n_s(useGetList, \"I0a3/vrZaQFqbdPkSFpgNslAaHQ=\");\n\nexport default useGetList;","map":{"version":3,"sources":["C:/Users/rdp/Downloads/Archive/src/api/useGetList.js"],"names":["axios","toast","useReducer","getListReducers","GET_LIST","LOADING_STARTS","LOADING_STOPS","useGetList","data","isLoading","dispatch","getIP","type","response","getJSON","console","log","info","payload","e","getList","get","deleteList","id","delete","success","setTimeout","window","location","reload"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useReducer } from 'react';\nimport getListReducers from './getListReducers';\nimport { GET_LIST, LOADING_STARTS, LOADING_STOPS } from './feedbackTypes';\n\nconst useGetList = () => {\n  const [{  data, isLoading }, dispatch] = useReducer(getListReducers, {\n     data: [],\n    isLoading: false,\n  });\n\n\n  const getIP = async () => {\n    dispatch({ type: LOADING_STARTS });\n    try {\n      const response = await \n      axios.getJSON('http://www.geoplugin.net/json.gp', function(data) {\n        \n        \n      });\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n             data: response.data.data,\n    \n          },\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      if (e.response) {\n        dispatch({ type: LOADING_STOPS });\n      }\n    }\n  };\n\n  const getList = async () => {\n    dispatch({ type: LOADING_STARTS });\n    try {\n      const response = await axios.get(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`);\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n             data: response.data.data,\n    \n          },\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      if (e.response) {\n        dispatch({ type: LOADING_STOPS });\n      }\n    }\n  };\n\n  const deleteList = async (id) => {\n    dispatch({ type: LOADING_STARTS });\n    try {\n      const response = await axios.delete(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}/${id}`);\n      if (response.data) {\n        toast.success('Delete Successful');\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      dispatch({ type: LOADING_STOPS });\n    }\n  };\n\n  return { getList, deleteList,  data, isLoading };\n};\n\nexport default useGetList;\n"]},"metadata":{},"sourceType":"module"}