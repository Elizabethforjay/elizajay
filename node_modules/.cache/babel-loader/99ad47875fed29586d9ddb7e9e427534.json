{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useReducer } from 'react';\nimport { START_FEEDBACK, STOP_FEEDBACK } from './feedbackTypes';\nimport FeedbackReducer from './FeedbackReducer';\n\nconst useFeedback = () => {\n  _s();\n\n  const [{\n    isLoading\n  }, dispatch] = useReducer(FeedbackReducer, {\n    isLoading: false\n  });\n\n  const postFeedback = async data => {\n    dispatch({\n      type: START_FEEDBACK\n    });\n\n    try {\n      const response = await axios.post(`${'https://api.tizeti.com/api/v1/ifs'}`, data);\n\n      if (response.data) {\n        toast.success('Feedback submitted successfully');\n        dispatch({\n          type: STOP_FEEDBACK\n        });\n      } else {\n        toast.error('oops');\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n\n      if (e.response) {\n        dispatch({\n          type: STOP_FEEDBACK\n        });\n      }\n    }\n  };\n\n  return {\n    postFeedback,\n    isLoading\n  };\n};\n\n_s(useFeedback, \"TiWjUma+2DqiYb2a7KRYdmskvxs=\");\n\nexport default useFeedback;","map":{"version":3,"sources":["/Users/mac/Downloads/Archive/src/api/useFeedback.js"],"names":["axios","toast","useReducer","START_FEEDBACK","STOP_FEEDBACK","FeedbackReducer","useFeedback","isLoading","dispatch","postFeedback","data","type","response","post","success","error","e","info"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,iBAA9C;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CACJ;AAAEC,IAAAA;AAAF,GADI,EAEJC,QAFI,IAGFN,UAAU,CAACG,eAAD,EAAkB;AAC9BE,IAAAA,SAAS,EAAE;AADmB,GAAlB,CAHd;;AAOA,QAAME,YAAY,GAAG,MAAOC,IAAP,IAAgB;AACnCF,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAER;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMS,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAY,GAAE,mCAAoC,EAAlD,EAAqDH,IAArD,CAAvB;;AACA,UAAIE,QAAQ,CAACF,IAAb,EAAoB;AAClBT,QAAAA,KAAK,CAACa,OAAN,CAAc,iCAAd;AACAN,QAAAA,QAAQ,CAAC;AACPG,UAAAA,IAAI,EAAEP;AADC,SAAD,CAAR;AAGD,OALD,MAKO;AACLH,QAAAA,KAAK,CAACc,KAAN,CAAY,MAAZ;AACD;AAEF,KAXD,CAWE,OAAOC,CAAP,EAAU;AACVf,MAAAA,KAAK,CAACgB,IAAN,CAAW,uBAAX;;AACA,UAAID,CAAC,CAACJ,QAAN,EAAgB;AACdJ,QAAAA,QAAQ,CAAC;AAAEG,UAAAA,IAAI,EAAEP;AAAR,SAAD,CAAR;AACD;AACF;AACF,GAnBD;;AAqBA,SAAO;AACLK,IAAAA,YADK;AAELF,IAAAA;AAFK,GAAP;AAID,CAjCD;;GAAMD,W;;AAmCN,eAAeA,WAAf","sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useReducer } from 'react';\nimport { START_FEEDBACK, STOP_FEEDBACK } from './feedbackTypes';\nimport FeedbackReducer from './FeedbackReducer';\n\nconst useFeedback = () => {\n  const [\n    { isLoading },\n    dispatch,\n  ] = useReducer(FeedbackReducer, {\n    isLoading: false,\n  });\n\n  const postFeedback = async (data) => {\n    dispatch({ type: START_FEEDBACK });\n    try {\n      const response = await axios.post(`${'https://api.tizeti.com/api/v1/ifs'}`, data);\n      if (response.data ) {\n        toast.success('Feedback submitted successfully');\n        dispatch({\n          type: STOP_FEEDBACK,\n        });\n      } else {\n        toast.error('oops');\n      }\n    \n    } catch (e) {\n      toast.info('Something went wrong!');\n      if (e.response) {\n        dispatch({ type: STOP_FEEDBACK });\n      }\n    }\n  };\n\n  return {\n    postFeedback,\n    isLoading,\n  };\n};\n\nexport default useFeedback;\n"]},"metadata":{},"sourceType":"module"}