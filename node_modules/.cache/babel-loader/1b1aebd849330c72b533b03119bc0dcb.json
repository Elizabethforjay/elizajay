{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useReducer } from 'react';\nimport getListReducers from './getListReducers';\nimport { GET_LIST, LOADING_STARTS, LOADING_STOPS } from './feedbackTypes';\n\nconst useGetList = () => {\n  _s();\n\n  const [{\n    data,\n    isLoading\n  }, dispatch] = useReducer(getListReducers, {\n    data: [],\n    isLoading: false\n  });\n  axios.getJSON('http://www.geoplugin.net/json.gp', function (data) {\n    console.log(JSON.stringify(data, null, 2));\n  });\n\n  const getList = async () => {\n    dispatch({\n      type: LOADING_STARTS\n    });\n\n    try {\n      const response = await axios.get(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`);\n\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n            data: response.data.data\n          }\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n\n      if (e.response) {\n        dispatch({\n          type: LOADING_STOPS\n        });\n      }\n    }\n  };\n\n  const deleteList = async id => {\n    dispatch({\n      type: LOADING_STARTS\n    });\n\n    try {\n      const response = await axios.delete(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}/${id}`);\n\n      if (response.data) {\n        toast.success('Delete Successful');\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      dispatch({\n        type: LOADING_STOPS\n      });\n    }\n  };\n\n  return {\n    getList,\n    deleteList,\n    data,\n    isLoading\n  };\n};\n\n_s(useGetList, \"I0a3/vrZaQFqbdPkSFpgNslAaHQ=\");\n\nexport default useGetList;","map":{"version":3,"sources":["C:/Users/rdp/Downloads/Archive/src/api/useGetList.js"],"names":["axios","toast","useReducer","getListReducers","GET_LIST","LOADING_STARTS","LOADING_STOPS","useGetList","data","isLoading","dispatch","getJSON","console","log","JSON","stringify","getList","type","response","get","info","payload","e","deleteList","id","delete","success","setTimeout","window","location","reload"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SAASC,QAAT,EAAmBC,cAAnB,EAAmCC,aAAnC,QAAwD,iBAAxD;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACvB,QAAM,CAAC;AAAGC,IAAAA,IAAH;AAASC,IAAAA;AAAT,GAAD,EAAuBC,QAAvB,IAAmCR,UAAU,CAACC,eAAD,EAAkB;AAClEK,IAAAA,IAAI,EAAE,EAD4D;AAEnEC,IAAAA,SAAS,EAAE;AAFwD,GAAlB,CAAnD;AAKAT,EAAAA,KAAK,CAACW,OAAN,CAAc,kCAAd,EAAkD,UAASH,IAAT,EAAe;AAC/DI,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeP,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAZ;AAED,GAHD;;AAIA,QAAMQ,OAAO,GAAG,YAAY;AAC1BN,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAEZ;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMa,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAN,CAAW,GAAE,uDAAwD,EAArE,CAAvB;;AACA,UAAID,QAAQ,CAACV,IAAb,EAAmB;AACjBI,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACV,IAAT,CAAcA,IAA1B;AACAP,QAAAA,KAAK,CAACmB,IAAN,CAAW,SAAX;AACAV,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAEb,QADC;AAEPiB,UAAAA,OAAO,EAAE;AACNb,YAAAA,IAAI,EAAEU,QAAQ,CAACV,IAAT,CAAcA;AADd;AAFF,SAAD,CAAR;AAOD;AACF,KAbD,CAaE,OAAOc,CAAP,EAAU;AACVrB,MAAAA,KAAK,CAACmB,IAAN,CAAW,uBAAX;;AACA,UAAIE,CAAC,CAACJ,QAAN,EAAgB;AACdR,QAAAA,QAAQ,CAAC;AAAEO,UAAAA,IAAI,EAAEX;AAAR,SAAD,CAAR;AACD;AACF;AACF,GArBD;;AAuBA,QAAMiB,UAAU,GAAG,MAAOC,EAAP,IAAc;AAC/Bd,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAEZ;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMa,QAAQ,GAAG,MAAMlB,KAAK,CAACyB,MAAN,CAAc,GAAE,uDAAwD,IAAGD,EAAG,EAA9E,CAAvB;;AACA,UAAIN,QAAQ,CAACV,IAAb,EAAmB;AACjBP,QAAAA,KAAK,CAACyB,OAAN,CAAc,mBAAd;AACAC,QAAAA,UAAU,CAAC,MAAM;AACfC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD;AACF,KARD,CAQE,OAAOR,CAAP,EAAU;AACVrB,MAAAA,KAAK,CAACmB,IAAN,CAAW,uBAAX;AACAV,MAAAA,QAAQ,CAAC;AAAEO,QAAAA,IAAI,EAAEX;AAAR,OAAD,CAAR;AACD;AACF,GAdD;;AAgBA,SAAO;AAAEU,IAAAA,OAAF;AAAWO,IAAAA,UAAX;AAAwBf,IAAAA,IAAxB;AAA8BC,IAAAA;AAA9B,GAAP;AACD,CAlDD;;GAAMF,U;;AAoDN,eAAeA,UAAf","sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useReducer } from 'react';\nimport getListReducers from './getListReducers';\nimport { GET_LIST, LOADING_STARTS, LOADING_STOPS } from './feedbackTypes';\n\nconst useGetList = () => {\n  const [{  data, isLoading }, dispatch] = useReducer(getListReducers, {\n     data: [],\n    isLoading: false,\n  });\n\n  axios.getJSON('http://www.geoplugin.net/json.gp', function(data) {\n    console.log(JSON.stringify(data, null, 2));\n    \n  });\n  const getList = async () => {\n    dispatch({ type: LOADING_STARTS });\n    try {\n      const response = await axios.get(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`);\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n             data: response.data.data,\n    \n          },\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      if (e.response) {\n        dispatch({ type: LOADING_STOPS });\n      }\n    }\n  };\n\n  const deleteList = async (id) => {\n    dispatch({ type: LOADING_STARTS });\n    try {\n      const response = await axios.delete(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}/${id}`);\n      if (response.data) {\n        toast.success('Delete Successful');\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      dispatch({ type: LOADING_STOPS });\n    }\n  };\n\n  return { getList, deleteList,  data, isLoading };\n};\n\nexport default useGetList;\n"]},"metadata":{},"sourceType":"module"}