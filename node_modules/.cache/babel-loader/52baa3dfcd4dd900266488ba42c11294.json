{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/rdp/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rdp/Downloads/Archive/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\rdp\\\\Downloads\\\\Archive\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import{toast}from'react-toastify';import{useReducer}from'react';import getListReducers from'./getListReducers';import{GET_LIST,LOADING_STARTS,LOADING_STOPS}from'./feedbackTypes';var useGetList=function useGetList(){var _useReducer=useReducer(getListReducers,{data:[],isLoading:false}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],data=_useReducer2$.data,isLoading=_useReducer2$.isLoading,dispatch=_useReducer2[1];var getList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:LOADING_STARTS});_context.prev=1;_context.next=4;return axios.get('https://share-point-tt.herokuapp.com/api/loginDetails');case 4:response=_context.sent;if(response.data){console.log(response.data.data);toast.info('Success');dispatch({type:GET_LIST,payload:{data:response.data.data}});}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);toast.info('Something went wrong!');if(_context.t0.response){dispatch({type:LOADING_STOPS});}case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function getList(){return _ref.apply(this,arguments);};}();var deleteList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:LOADING_STARTS});_context2.prev=1;_context2.next=4;return axios.delete('https://share-point-tt.herokuapp.com/api/loginDetails'.concat(\"/\",id));case 4:response=_context2.sent;if(response.data){toast.success('Delete Successful');setTimeout(function(){window.location.reload();},1000);}_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);toast.info('Something went wrong!');dispatch({type:LOADING_STOPS});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function deleteList(_x){return _ref2.apply(this,arguments);};}();return{getList:getList,deleteList:deleteList,data:data,isLoading:isLoading};};export default useGetList;","map":{"version":3,"sources":["C:/Users/rdp/Downloads/Archive/src/api/useGetList.js"],"names":["axios","toast","useReducer","getListReducers","GET_LIST","LOADING_STARTS","LOADING_STOPS","useGetList","data","isLoading","dispatch","getList","type","get","response","console","log","info","payload","deleteList","id","delete","success","setTimeout","window","location","reload"],"mappings":"wWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAASC,QAAT,CAAmBC,cAAnB,CAAmCC,aAAnC,KAAwD,iBAAxD,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,gBAAyCL,UAAU,CAACC,eAAD,CAAkB,CAClEK,IAAI,CAAE,EAD4D,CAEnEC,SAAS,CAAE,KAFwD,CAAlB,CAAnD,0EAAUD,IAAV,eAAUA,IAAV,CAAgBC,SAAhB,eAAgBA,SAAhB,CAA6BC,QAA7B,iBAKA,GAAMC,CAAAA,OAAO,0FAAG,gJACdD,QAAQ,CAAC,CAAEE,IAAI,CAAEP,cAAR,CAAD,CAAR,CADc,sCAGWL,CAAAA,KAAK,CAACa,GAAN,CAAa,uDAAb,CAHX,QAGNC,QAHM,eAIZ,GAAIA,QAAQ,CAACN,IAAb,CAAmB,CACjBO,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACN,IAAT,CAAcA,IAA1B,EACAP,KAAK,CAACgB,IAAN,CAAW,SAAX,EACAP,QAAQ,CAAC,CACPE,IAAI,CAAER,QADC,CAEPc,OAAO,CAAE,CACNV,IAAI,CAAEM,QAAQ,CAACN,IAAT,CAAcA,IADd,CAFF,CAAD,CAAR,CAOD,CAdW,+EAgBZP,KAAK,CAACgB,IAAN,CAAW,uBAAX,EACA,GAAI,YAAEH,QAAN,CAAgB,CACdJ,QAAQ,CAAC,CAAEE,IAAI,CAAEN,aAAR,CAAD,CAAR,CACD,CAnBW,oEAAH,kBAAPK,CAAAA,OAAO,0CAAb,CAuBA,GAAMQ,CAAAA,UAAU,2FAAG,kBAAOC,EAAP,mIACjBV,QAAQ,CAAC,CAAEE,IAAI,CAAEP,cAAR,CAAD,CAAR,CADiB,wCAGQL,CAAAA,KAAK,CAACqB,MAAN,CAAgB,uDAAhB,YAA2ED,EAA3E,EAHR,QAGTN,QAHS,gBAIf,GAAIA,QAAQ,CAACN,IAAb,CAAmB,CACjBP,KAAK,CAACqB,OAAN,CAAc,mBAAd,EACAC,UAAU,CAAC,UAAM,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFS,CAEP,IAFO,CAAV,CAGD,CATc,mFAWfzB,KAAK,CAACgB,IAAN,CAAW,uBAAX,EACAP,QAAQ,CAAC,CAAEE,IAAI,CAAEN,aAAR,CAAD,CAAR,CAZe,sEAAH,kBAAVa,CAAAA,UAAU,6CAAhB,CAgBA,MAAO,CAAER,OAAO,CAAPA,OAAF,CAAWQ,UAAU,CAAVA,UAAX,CAAwBX,IAAI,CAAJA,IAAxB,CAA8BC,SAAS,CAATA,SAA9B,CAAP,CACD,CA9CD,CAgDA,cAAeF,CAAAA,UAAf","sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useReducer } from 'react';\nimport getListReducers from './getListReducers';\nimport { GET_LIST, LOADING_STARTS, LOADING_STOPS } from './feedbackTypes';\n\nconst useGetList = () => {\n  const [{  data, isLoading }, dispatch] = useReducer(getListReducers, {\n     data: [],\n    isLoading: false,\n  });\n\n  const getList = async () => {\n    dispatch({ type: LOADING_STARTS });\n    try {\n      const response = await axios.get(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}`);\n      if (response.data) {\n        console.log(response.data.data);\n        toast.info('Success');\n        dispatch({\n          type: GET_LIST,\n          payload: {\n             data: response.data.data,\n    \n          },\n        });\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      if (e.response) {\n        dispatch({ type: LOADING_STOPS });\n      }\n    }\n  };\n\n  const deleteList = async (id) => {\n    dispatch({ type: LOADING_STARTS });\n    try {\n      const response = await axios.delete(`${'https://share-point-tt.herokuapp.com/api/loginDetails'}/${id}`);\n      if (response.data) {\n        toast.success('Delete Successful');\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      }\n    } catch (e) {\n      toast.info('Something went wrong!');\n      dispatch({ type: LOADING_STOPS });\n    }\n  };\n\n  return { getList, deleteList,  data, isLoading };\n};\n\nexport default useGetList;\n"]},"metadata":{},"sourceType":"module"}